# 虚拟文件系统（VFS）

为了能够支持各种实际文件系统，VFS 定义了所有文件系统都支持的基本的、概念上的接口和数据 结构；同时实际文件系统也提供 VFS 所期望的抽象接口和数据结构，将自身的诸如文件、目录等概念在形式 上与VFS的定义保持一致。

![image-20201225140724256](https://gitee.com/liugguisheng/tuci/raw/master/img/20201225140724.png)

## 一些基本概念

**文件系统本质**：是特殊的数据分层存储结构，包含了文件，目录和相关的控制信息。

**文件：**一组在逻辑上具有完整意义的信息项的系列。（在Linux中，除了普通文件，其他诸如目录、设备、套接字等 也以文件被对待。总之，“一切皆文件”）

**目录：**目录好比一个文件夹，用来容纳相关文件。因为目录可以包含子目录，所以目录是可以层层嵌套，形成 文件路径。在Linux中，目录也是以一种特殊文件被对待的，所以用于文件的操作同样也可以用在目录上。

**目录项：**在一个文件路径中，路径中的每一部分都被称为目录项；如路径/home/source/helloworld.c中，目录 /, home, source和文件 helloworld.c都是一个目录项。

**索引节点：**用于存储文件的元数据的一个数据结构。文件的元数据，也就是文件的相关信息，和文件本身是两个不同 的概念。它包含的是诸如文件的大小、拥有者、创建时间、磁盘位置等和文件相关的信息。

**超级块：**用于存储文件系统的控制信息的数据结构。描述文件系统的状态、文件系统类型、大小、区块数、索引节 点数等，存放于磁盘的特定扇区中。

![image-20201228144245838](https://gitee.com/liugguisheng/tuci/raw/master/img/20201228144245.png)


